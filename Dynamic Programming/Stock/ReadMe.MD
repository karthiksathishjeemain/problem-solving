In this type of problem when the question is to find:
only max profit with 1 transaction and any transaction (with no restriction)-- we can go with greedy approach
If not then dp is must